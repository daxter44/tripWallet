<form [formGroup]="costForm" (ngSubmit)="submit()">
  <ion-item>
    <ion-label  position="stacked">Type:</ion-label>
    <ion-select
      placeholder="Select type"  formControlName="type"
    >
    <ion-select-option *ngFor="let type of costTypes" [value]="type">{{ type.name }}</ion-select-option>
  </ion-select>
  </ion-item>
  <ion-item>
    <ion-label  position="stacked">Amount:</ion-label>
    <ion-input type="number" formControlName="amount"></ion-input>
  </ion-item>
  <ng-container  *ngIf="{
    trip: trip$ | async} as view">
    <ion-item>
      <ion-label  position="stacked">Main currency:</ion-label>
      <ion-input  id="costCurrency" (ionBlur)="fetchExchangeRate($event, view.trip?.currency)" formControlName="currency"></ion-input>
    </ion-item>
    <ion-item disabled="true">
      <ion-label position="stacked">Exchange rate: </ion-label>
      <ion-label >{{ this.exchangeRate }}</ion-label>
    </ion-item>
  </ng-container> 
 
  <ion-item>
    <ion-label position="stacked">Date: </ion-label>
    <ion-datetime-button datetime="date"></ion-datetime-button>

    <ion-modal [keepContentsMounted]="true">
      <ng-template>
        <ion-datetime id="date" (ionChange)="getDate($event)" formControlName="date" [value]="defaultDate"></ion-datetime>
      </ng-template>
    </ion-modal>
  </ion-item>

  <ion-button  type="submit" [disabled]="!costForm.valid || exchangeRateLoading">
    Create
  </ion-button>
</form>